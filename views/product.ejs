<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="stylesheet" type="text/css" href="/css/product.css" />

      <title><%= name %></title>
   </head>
   <body>
      <%- include('../src/partials/header.ejs') %>
      <main>
         <img src="/<%= img %>" alt="<%= name %>" />
         <div class="details">
            <div>
               <span><%= category %></span>
               <h1><%= name %></h1>
            </div>
            <p><%= description %></p>
            <div class="options">
               <button id="plus" onclick="increaseBy(-1)">
                  <%- include('../src/icons/minus.ejs') %>
               </button>
               <span>1</span>
               <button id="minus" onclick="increaseBy(1)">
                  <%- include('../src/icons/plus.ejs') %>
               </button>
            </div>
            <div>
               <span class="price"><%= price %></span>
               <button class="buy-btn">
                  Comprar
                  <%- include('../src/icons/cart.ejs') %>
               </button>
            </div>
         </div>
      </main>
      <%- include('../src/partials/footer.ejs') %>
   </body>

   <script>
      const counter = document.querySelector('.options span')
      const plusBtn = document.getElementById('plus')
      const minusBtn = document.getElementById('minus')

      function increaseBy (value) {
         counter.innerHTML = Math.max(1, Math.min(Number(counter.innerHTML) + value, 10))
      }
   </script>
</html>
